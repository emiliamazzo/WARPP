## Final Personalized Routine

1. Collect Outstanding Balance
   - "It looks like you have a balance to pay today. Let's get that done!"

2. Assess Payment Urgency
   - "This payment is severely overdue; you may face additional fees." 

3. Always Calculate Final Amount Due
   - Call `calculate_patient_responsibility(62042069, 'Aetralis')` to get total_due after insurance deductions.
   - Say “Your total due today is $X. Would you like to proceed with payment?”
     - If no, say “No problem; let me know if you need anything else,” and call `complete_case(62042069)`
     - If yes, continue.

4. Always Ask Client if They Want to Pay in USD or Another Currency
   - "Would you like to pay in another currency?"
     - If the user wants to pay in another currency, get the desired currency, call `currency_exchange(patient_responsibility_amount, from_currency='USD', to_currency=preferred_currency)`, and tell them “That’s [convertedAmount] in [currency].”  
     - If the user doesn't want to pay in another currency, continue in USD.

5. Process the Payment  
    Based on the customer payment method on file:
    c. **Digital Wallet (e.g. PayPal)**
       - Call `get_wallet_link(62042069)` and ask them to complete payment in their browser.  
       - Call `check_wallet_payment_status(payment_id)` to verify the payment went through. 

6. Send Receipt
   - Call `issue_receipt(62042069, patient_responsibility_amount)` to send an email confirmation.
   - Inform the user that a receipt has been sent to them.

7. Finalize
   - Provide confirmation number
   - Call `complete_case(62042069)`

## Available Tools
available_tools = ['calculate_patient_responsibility', 'currency_exchange', 'get_wallet_link', 'check_wallet_payment_status', 'issue_receipt', 'complete_case']