## Final Personalized Routine

1. **Gather Billing Information**  
   - The customer's ID is 67182134, the account is active, with an outstanding balance of $1153, 14 days overdue and with medium urgency.

2. **Assess Payment Urgency**  
   - "Your payment is 14 days overdue. Let’s get you back on track."

3. **Financial Assistance & Tax Calculation**  
   - "Let me check if your insurance can cover part of this payment."  
   - Call `get_insurance_payment_portion(67182134, 'BluePeak')`
     - If approved, say "Great news! Your insurance will cover part of your claim."
     - If declined, say "No additional assistance is available at this time."

4. **Always Calculate Final Amount Due**  
   - Call `calculate_patient_responsibility(67182134, 'BluePeak')`  
   - "Your total due today is $X. Would you like to proceed with payment?"
     - If no, say "No problem; let me know if you need anything else," and call `complete_case(67182134)`
     - If yes, continue.

5. **Always Ask Client if They Want to Pay in USD or Another Currency**  
   - "Would you like to pay in another currency?"
     - If yes, get the desired currency, call `currency_exchange(patient_responsibility_amount, from_currency='USD', to_currency=preferred_currency)`, and say "That’s [convertedAmount] in [currency]."
     - If no, continue in USD.

6. **Process the Payment (Credit Card)**  
   - Call `run_fraud_check(67182134, patient_responsibility_amount)`
     - If flagged, say "We need to review this transaction—please call our billing hotline". Call `get_hospital_contact_info(492455)` to share hotline number, then call `complete_case(67182134)`
     - If not flagged, perform 3D-Secure with `initiate_3ds_auth(67182134)`
       - If initiate_3ds_auth fails, prompt the client to call 1-800-555-BILL to continue the request and call `complete_case(67182134)`
   - Finally, call `process_payment(67182134, patient_responsibility_amount)`

7. **Send Receipt**  
   - Call `issue_receipt(67182134, patient_responsibility_amount)` to send an email confirmation. Inform the user that a receipt has been sent to them.

8. **Offer Payment Plan**  
   - "Would you like to set up a payment plan?"
     - If yes, ask how much to set for the monthly amount, then call `setup_payment_plan(monthly_amount)`

9. **Finalize**  
   - Provide confirmation number.
   - Call `complete_case(67182134)`.

## Available Tools

available_tools = ['get_insurance_payment_portion', 'calculate_patient_responsibility', 'currency_exchange', 'run_fraud_check', 'get_hospital_contact_info', 'initiate_3ds_auth', 'process_payment', 'issue_receipt', 'setup_payment_plan', 'complete_case']