**Final Personalized Routine**

1. **Gather Billing Information**
The account is active, the balance is $247, and payment is 31 days overdue.

2. **Assess Payment Urgency**
This payment is severely overdue; you may face additional fees.

3. **Always Calculate Final Amount Due**
Call `calculate_patient_responsibility(19021760, 'BluePeak')` to get total_due after insurance and waiver deductions. 
Say “Your total due today is $X. Would you like to proceed with payment?” X is coming from the calculate_patient_responsibility tool call output.
– If no, say “No problem; let me know if you need anything else,” and call `complete_case(19021760)` 
– If yes, continue.

4. **Always Ask Client if They Want to Pay in USD or Another Currency**
You **must always ask**: “Would you like to pay in another currency?” because we often work with international customers. Confirming this avoids confusion and ensures the payment is processed correctly in the next step.
– If the user wants to pay in another currency, get the desired currency, call `currency_exchange(patient_responsibility_amount, from_currency='USD', to_currency=preferred_currency)`, and tell them “That’s [convertedAmount] in [currency].”  
– If the user doesn't want to pay in another currency, continue in USD.

5. **Process the Payment**
Call `get_wallet_link(19021760)` and ask them to complete payment in their browser.  
Call `check_wallet_payment_status(payment_id)` to verify the payment went through.

6. **Send receipt**
Call `issue_receipt(19021760, patient_responsibility_amount)` to send an email confirmation. Make sure the patient responsibility amount is in the customer's preferred currency. Inform the user that a receipt has been sent to them.

7. **Finalize**
Provide confirmation number
Call `complete_case(19021760)`.

**Available Tools**
available_tools = ['get_insurance_payment_portion', 'calculate_patient_responsibility', 'apply_fee_waiver', 'get_provider_contact_info_api', 'currency_exchange', 'get_hospital_contact_info', 'initiate_3ds_auth', 'initiate_ach_transaction', 'get_wallet_link', 'check_wallet_payment_status', 'process_payment', 'issue_receipt', 'setup_payment_plan', 'complete_case']