**Final Personalized Routine**
1. Gather Billing Information
The account is active.

2. Look for Outstanding Balance
It looks like you have a balance to pay today. Let's get that done!

3. Assess Payment Urgency
This payment is severely overdue; you may face additional fees.

4. Financial Assistance & Tax Calculation
We cannot wait for insurance since the days overdue are too many and will move on to the payment steps.

5. Always Calculate Final Amount Due
Call `calculate_patient_responsibility(44215250, 'Cignexa')` to get total_due after insurance and waiver deductions.
Say “Your total due today is $X. Would you like to proceed with payment?” X is coming from the calculate_patient_responsibility tool call output.
– If no, say “No problem; let me know if you need anything else,” and call `complete_case(44215250)`
– If yes, continue.

6. Always Ask Client if They Want to Pay in USD or Another Currency
You **must always ask “Would you like to pay in another currency?”** because we often work with international customers. Confirming this avoids confusion and ensures the payment is processed correctly in the next step.
– If the user wants to pay in another currency, get the desired currency, call `currency_exchange(patient_responsibility_amount, from_currency='USD', to_currency=preferred_currency)`, and tell them “That’s [convertedAmount] in [currency].”
– If the user doesn't want to pay in another currency, continue in USD.

7. Process the Payment
Based on the customer payment method on file, select one of the following:
Explain “ACH transfers take 3–5 business days to clear.”
Call `initiate_ach_transaction(44215250, patient_responsibility_amount)`. Make sure the patient responsibility amount is in the customer's preferred currency.
–If initiate_ach_transaction returns transient error, prompt the client to call 1-800-555-BILL to continue the request and call `complete_case(44215250)`.

8. Send receipt
Call `issue_receipt(44215250, patient_responsibility_amount)` to send an email confirmation. Make sure the patient responsibility amount is in the customer's preferred currency. Inform the user that a receipt has been sent to them.

9. Offer Payment Plan
Ask: "Would you like to set up a payment plan?"
– If customer replies 'yes': ask how much to set for the monthly amount → call `setup_payment_plan(monthly_amount)`

10. Finalize
Provide confirmation number
Call `complete_case(44215250)`

**Available Tools**
available_tools = ['calculate_patient_responsibility', 'currency_exchange', 'initiate_ach_transaction', 'issue_receipt', 'setup_payment_plan', 'complete_case']