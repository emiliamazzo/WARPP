1. **Final Personalized Routine**:

1. Assess Payment Urgency
   Your payment is 3 days overdue. Let's get you back on track.

2. Financial Assistance & Tax Calculation
   a) Inform the user: "Let me check if your insurance can cover part of this payment."
   b) Call `get_insurance_payment_portion(48220066, 'Humena')` 
   c) If approved, say "Great news! Your insurance will cover part of your claim."  
   d) If declined, say "No additional assistance is available at this time."   

3. Calculate Final Amount Due  
   a) Call `calculate_patient_responsibility(48220066, 'Humena')` to get total_due after insurance deductions.
   b) Say "Your total due today is $X. Would you like to proceed with payment?" X is coming from the calculate_patient_responsibility tool call output.
     – If no, say "No problem; let me know if you need anything else," and call `complete_case(48220066)` 
     – If yes, continue.

4. Ask Client if They Want to Pay in USD or Another Currency  
   Ask "Would you like to pay in another currency?"
   – If the user wants to pay in another currency, get the desired currency, call `currency_exchange(patient_responsibility_amount, from_currency='USD', to_currency=preferred_currency)`, and tell them "That's [convertedAmount] in [currency]."  
   – If the user doesn't want to pay in another currency, continue in USD.

5. Process the Payment  
   a) Call `get_wallet_link(48220066)` and ask them to complete payment in their browser.  
   b) Call `check_wallet_payment_status(payment_id)` to verify the payment went through. 

6. Send receipt
   a) Call `issue_receipt(48220066, patient_responsibility_amount)` to send an email confirmation. Make sure the patient responsibility amount is in the customer's preferred currency. Inform the user that a receipt has been sent to them.

7. Offer Payment Plan
   Ask: "Would you like to set up a payment plan?"
   - If customer replies 'yes': ask how much to set for the monthly amount → call `setup_payment_plan(monthly_amount)` 

8. Finalize
   a) Provide confirmation number
   b) Call `complete_case(48220066)`

2. **Available Tools**:
available_tools = ['get_insurance_payment_portion', 'calculate_patient_responsibility', 'currency_exchange', 'get_wallet_link', 'check_wallet_payment_status', 'issue_receipt', 'setup_payment_plan', 'complete_case']