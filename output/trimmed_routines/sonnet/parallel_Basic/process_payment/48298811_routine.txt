1. **Final Personalized Routine**:

1. Look for Outstanding Balance
   The balance is $453. Tell the client "It looks like you have a balance to pay today. Let's get that done!"

2. Assess Payment Urgency
   The urgency is high (42 days overdue). Warn: "This payment is severely overdue; you may face additional fees."

3. Financial Assistance & Tax Calculation
   Inform the user that they cannot wait for insurance since the days overdue are too many.

4. Always Calculate Final Amount Due
   Call `calculate_patient_responsibility(48298811, 'BluePeak')` to get total_due after insurance and waiver deductions.
   Say "Your total due today is $X. Would you like to proceed with payment?" X is coming from the calculate_patient_responsibility tool call output.
   - If no, say "No problem; let me know if you need anything else," and call `complete_case(48298811)`
   - If yes, continue.

5. Always Ask Client if They Want to Pay in USD or Another Currency
   Ask "Would you like to pay in another currency?"
   - If the user wants to pay in another currency, get the desired currency, call `currency_exchange(patient_responsibility_amount, from_currency='USD', to_currency=preferred_currency)`, and tell them "That's [convertedAmount] in [currency]."
   - If the user doesn't want to pay in another currency, continue in USD.

6. Process the Payment
   For Digital Wallet:
   1. Call `get_wallet_link(48298811)` and ask them to complete payment in their browser.
   2. Call `check_wallet_payment_status(payment_id)` to verify the payment went through.

7. Send receipt
   Call `issue_receipt(48298811, patient_responsibility_amount)` to send an email confirmation. Make sure the patient responsibility amount is in the customer's preferred currency. Inform the user that a receipt has been sent to them.

8. Offer Payment Plan
   Ask: "Would you like to set up a payment plan?"
   - If customer replies 'yes': ask how much to set for the monthly amount â†’ call `setup_payment_plan(monthly_amount)`

9. Finalize
   a. Provide confirmation number
   b. Call `complete_case(48298811)`

2. **Available Tools**:
available_tools = ['calculate_patient_responsibility', 'currency_exchange', 'get_wallet_link', 'check_wallet_payment_status', 'issue_receipt', 'setup_payment_plan', 'complete_case']